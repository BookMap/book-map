<script src='js/check-auth.js'></script>
<h2>My profile</h2>

<div>Hello {{username}}!</div>
<img src={{picture}}>

<h3>Enter a New Book</h3>
<form id="makeBook" ng-submit="addbook( title, author, comment)">
  <input type="text" size="100" data-ng-model="title" placeholder="Enter Book Title">
  <br>
  <input type="text" size="100" data-ng-model="author" placeholder ="Enter Author Name" >
  <br>
  <input type="text" size="100" data-ng-model="comment" placeholder= "Enter Comment">
  <br>
  <button class="btn btn-primary">Create New Book Record</button>
</form>

<br><br>

<h3>My Books</h3>
<div ng-show=deleteResponse>Successfully deleted {{deleteResponse.unique_book.title}}</div>

<ul>
  <li ng-repeat='book in books'>
    <div>Title: {{book.unique_book.title}}</div>
    <div>Author: {{book.unique_book.author}}</div>
    <div ng-show=book.borrower>Borrowed by: {{book.borrower.username}}</div>
    <button ng-hide=book.borrower ng-click='delete(book.unique_book._id, $index)'>Delete</button>
  </li>
</ul>

<h3>Currently Borrowing</h3>
<ul>
  <li ng-repeat='borrowedBook in borrowing'>
    <div>Title: {{borrowedBook.unique_book.title}}</div>
    <div>Author: {{borrowedBook.unique_book.author}}</div>
    <div>Borrowing From: {{borrowedBook.owner.username}}</div>
    <button ng-click='someFunction()'>Return</button>
  </li>
</ul>

<h3>Currently Lending</h3>
<ul>
  <li ng-repeat='lentBook in lending'>
    <div>Title: {{lentBook.unique_book.title}}</div>
    <div>Author: {{lentBook.unique_book.author}}</div>
    <div>Lent To: {{lentBook.borrower.username}}</div>
  </li>
</ul>
