<div class="page-header">
    <h3> Private Account Page for {{username}} </h3>
</div>
<br>
<div class="accountPicture">
    <div >
        <img src={{picture}} class="img-thumbnail img-responsive">
        <a class = "publicProfile"  href="/#/publicProfile/{{id}}">&nbsp; Switch to My Public Profile</a>
        <form ng-submit="editAbout(about)" class="form-horizontal">
          <textarea data-ng-model="about" class="form-control" rows="3"></textarea>
          <button class="btn btn-sm btn-success">Edit "About Me"</button>
        </form>
        <div ng-show="aboutResponse">Successfully Updated</div>
        <div ng-show="aboutResponse == false">Unsuccessful Update</div>
    </div>

</div>

<br>
<div class="page-header">
    <h3>Enter a New Book</h3>
</div>

<form id="makeBook" ng-submit="addbook( title, author, comment)" class="form-horizontal">
    <input type="text" size="100" data-ng-model="title" placeholder="Enter Book Title" class="form-control">
    <input type="text" size="100" data-ng-model="author" placeholder="Enter Author Name" class="form-control">
    <input type="text" size="100" data-ng-model="comment" placeholder="Enter Comment" class="form-control">
    <button class="btn btn-sm btn-success">Create New Book Record</button>
</form>
<a name="addbook"></a>

<br><br>

<div class="page-header">
    <h3>Your Books</h3>
</div>
<div ng-show=deleteResponse>Successfully deleted {{deleteResponse.unique_book.title}}</div>

<table class="table table-bordered table-striped">
    <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Borrowed By</th>
        <th>Action</th>
    </tr>
    <tr ng-repeat='book in books'>
        <td>{{book.unique_book.title}}</td>
        <td>{{book.unique_book.author}}</td>
        <td>{{book.borrower.username}}</td>
        <td>
            <button ng-hide=book.borrower ng-click='delete(book, $index)' class="btn btn-sm btn-danger">Delete</button>
        </td>
    </tr>
</table>

<br><br>

<div class="page-header">
    <h3>Currently Borrowing</h3>
</div>
<table class="table table-bordered table-striped">
    <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Owner</th>
        <th>Action</th>
    </tr>
    <tr ng-repeat='borrowedBook in borrowing'>
        <td>{{borrowedBook.unique_book.title}}</td>
        <td>{{borrowedBook.unique_book.author}}</td>
        <td>{{borrowedBook.owner.username}}</td>
        <td>
            <button ng-click='returnBook(borrowedBook, $index)' class="btn btn-sm btn-warning">Return</button>
        </td>
    </tr>
</table>

<br><br>

<div class="page-header">
    <h3>Currently Lending</h3>
</div>
<table class="table table-bordered table-striped">
    <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Borrower</th>
    </tr>
    <tr ng-repeat='lentBook in lending'>
        <td>{{lentBook.unique_book.title}}</td>
        <td>{{lentBook.unique_book.author}}</td>
        <td>{{lentBook.borrower.username}}</td>
    </tr>
</table>
